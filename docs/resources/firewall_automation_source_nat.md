---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "opnsense_firewall_automation_source_nat Resource - opnsense"
subcategory: ""
description: |-
  When a client on an internal network makes an outbound request, the gateway will have to change the source IP to the external IP of the gateway, since the outside server will not be able to send an answer back otherwise. Source NAT is also known as Outbound NAT or Masquerading.
---

# opnsense_firewall_automation_source_nat (Resource)

When a client on an internal network makes an outbound request, the gateway will have to change the source IP to the external IP of the gateway, since the outside server will not be able to send an answer back otherwise. Source NAT is also known as Outbound NAT or Masquerading.

## Example Usage

```terraform
# Example firewall automation source nat rule
resource "opnsense_firewall_automation_filter" "test_acc_resource_filter" {
  enabled          = true
  no_nat           = false
  sequence         = 2
  interface        = "wan"
  ip_version       = "ipv4"
  protocol         = "tcp"
  source           = "1.1.1.1"
  source_not       = false
  source_port      = "ssh"
  destination      = "2.2.2.2"
  destination_not  = false
  destination_port = "ssh"
  target           = "3.3.3.3"
  target_port      = "ssh"
  log              = false
  categories = [
    "source_nat"
  ]
  description = "Example firewall automation source nat rule"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `interface` (String) Interface this rule applies to. Use the interface identifiers (e.g `lan`, `opt1`).
- `target` (String) Packets matching this rule will be mapped to this IP address or network. Can be a single network/host, alias or predefined network. For interface addresses, add `ip` to the end of the interface name (e.g `opt1ip`). Defaults to `any`

### Optional

- `categories` (Set of String) The categories of the rule.
- `description` (String) Description to identify this rule.
- `destination` (String) Destination IP or network. Can be a single network/host, alias or predefined network. For interface addresses, add `ip` to the end of the interface name (e.g `opt1ip`). Defaults to `any`
- `destination_not` (Boolean) Whether the destination matching should be inverted. Defaults to `false`.
- `destination_port` (String) Destination port number or well known name (`imap`, `imaps`, `http`, `https`, ...), for ranges use a dash.
- `enabled` (Boolean) Whether the rule is enabled. Defaults to `true`.
- `ip_version` (String) The applicable ip version this for this rule. Must be one of: `ipv4`, `ipv6`. Defaults to `ipv4`.
- `log` (Boolean) Whether packets that are handled by this rule should be logged. Defaults to `false`.
- `no_nat` (Boolean) Disable NAT for all traffic matching this rule and stop processing source nat rules. Defaults to `false`.
- `protocol` (String) The applicable protocol for this rule. Must be one of: `any`, `icmp`, `igmp`, `ggp`, `ipencap`, `st2`, `tcp`, `cbt`, `egp`, `igp`, `bbn-rcc`, `nvp`, `pup`, `argus`, `emcon`, `xnet`, `chaos`, `udp`, `mux`, `dcn`, `hmp`, `prm`, `xns-idp`, `trunk-1`, `trunk-2`, `leaf-1`, `leaf-2`, `rdp`, `irtp`, `iso-tp4`, `netblt`, `mfe-nsp`, `merit-inp`, `dccp`, `3pc`, `idpr`, `xtp`, `ddp`, `idpr-cmtp`, `tp++`, `il`, `ipv6`, `sdrp`, `idrp`, `rsvp`, `gre`, `dsr`, `bna`, `esp`, `ah`, `i-nlsp`, `swipe`, `narp`, `mobile`, `tlsp`, `skip`, `ipv6-icmp`, `cftp`, `sat-expak`, `kryptolan`, `rvd`, `ippc`, `sat-mon`, `visa`, `ipcv`, `cpnx`, `cphb`, `wsn`, `pvp`, `br-sat-mon`, `sun-nd`, `wb-mon`, `wb-expak`, `iso-ip`, `vmtp`, `secure-vmtp`, `vines`, `ttp`, `nsfnet-igp`, `dgp`, `tcf`, `eigrp`, `ospf`, `sprite-rpc`, `larp`, `mtp`, `ax.25`, `ipip`, `micp`, `scc-sp`, `etherip`, `encap`, `gmtp`, `ifmp`, `pnni`, `pim`, `aris`, `scps`, `qnx`, `a/n`, `ipcomp`, `snp`, `compaq-peer`, `ipx-in-ip`, `carp`, `pgm`, `l2tp`, `ddx`, `iatp`, `stp`, `srp`, `uti`, `smp`, `sm`, `ptp`, `isis`, `crtp`, `crudp`, `sps`, `pipe`, `sctp`, `fc`, `rsvp-e2e-ignore`, `udplite`, `mpls-in-ip`, `manet`, `hip`, `shim6`, `wesp`, `rohc`, `pfsync`, `divert`. Defaults to `any`.
- `sequence` (Number) Order in which multiple matching rules are evaluated and applied (lowest first). Defaults to `1`.
- `source` (String) Source IP or network. Can be a single network/host, alias or predefined network. For interface addresses, add `ip` to the end of the interface name (e.g `opt1ip`). Defaults to `any`
- `source_not` (Boolean) Whether the source matching should be inverted. Defaults to `false`.
- `source_port` (String) Source port number or well known name (`imap`, `imaps`, `http`, `https`, ...), for ranges use a dash.
- `target_port` (String) Target port number or well known name (`imap`, `imaps`, `http`, `https`, ...), for ranges use a dash.

### Read-Only

- `id` (String) Identifier of the automation source nat rule.
- `last_updated` (String) DateTime when the automation source nat rule was last updated.

## Import

Import is supported using the following syntax:

```shell
# Firewall automation source nat rules can be imported by specifying the rule UUID. This can be found by examining the API calls on the OPNsense web interface
terraform import opnsense_firewall_automation_source_nat.import_example 7ce41c23-968c-46f2-9b6b-3c9a1519086f
```
