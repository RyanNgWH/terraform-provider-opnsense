---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "opnsense_firewall_shaper_pipes Resource - opnsense"
subcategory: ""
description: |-
  A pipe emulates a link with given bandwidth, propagation delay, queue size and packet loss rate. Packets are queued in front of the pipe as they come out from the classifier, and then transferred to the pipe according to the pipe’s parameters.
---

# opnsense_firewall_shaper_pipes (Resource)

A pipe emulates a link with given bandwidth, propagation delay, queue size and packet loss rate. Packets are queued in front of the pipe as they come out from the classifier, and then transferred to the pipe according to the pipe’s parameters.

## Example Usage

```terraform
# Example traffic shaper pipe
resource "opnsense_firewall_shaper_pipes" "example_shaper_pipe" {
  enabled = true
  bandwidth = {
    value  = 10
    metric = "Kbit"
  }
  queue     = 10
  mask      = "src-ip"
  buckets   = 10
  scheduler = "deficit round robin"
  codel = {
    enabled  = true
    target   = 10
    interval = 10
    ecn      = true
    quantum  = 10
    limit    = 10
    flows    = 10
  }
  pie         = false
  delay       = 10
  description = "Example traffic shaper pipe"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bandwidth` (Attributes) Bandwidth for this pipe. (see [below for nested schema](#nestedatt--bandwidth))
- `description` (String) Description to identify this pipe.

### Optional

- `buckets` (Number) Specifies the size of the hash table used for storing the various dynamic pipes configured with the mask setting.
- `codel` (Attributes) CoDel active queue management. (see [below for nested schema](#nestedatt--codel))
- `delay` (Number) Add delay in ms to this pipe.
- `enabled` (Boolean) Whether the traffic shaper pipe is enabled. Defaults to `true`.
- `mask` (String) Dynamic pipe creation by source or destination address. Leave this value empty if you want to create a pipe with a fixed bandwidth. Must be one of: `none`, `src-ip`, `dst-ip`. Defaults to `none`
- `pie` (Boolean) Whether PIE active queue management should be enabled. Defaults to `false`
- `queue` (Number) Number of dynamic queues, leave empty for default.
- `scheduler` (String) Specifies the scheduling algorithm to use. Must be one of: `deficit round robin`, `fifo`, `flowqueue-codel`, `flowqueue-pie`, `qfq`, `weighted fair queueing`. Defaults to `weighted fair queueing`

### Read-Only

- `id` (String) Identifier of the traffic shaper pipe.
- `last_updated` (String) DateTime when the traffic shaper pipe was last updated.

<a id="nestedatt--bandwidth"></a>
### Nested Schema for `bandwidth`

Required:

- `value` (Number) Total bandwidth for this pipe.

Optional:

- `metric` (String) Metric used for the bandwidth specified. Must be one of: `bit`, `Kbit`, `Mbit`, `Gbit`. Values are per second (e.g `bit/s`). Defaults to `bit`.


<a id="nestedatt--codel"></a>
### Nested Schema for `codel`

Optional:

- `ecn` (Boolean) Whether explicit congestion notification is enabled. Defaults to 'false`
- `enabled` (Boolean) Whether CoDel active queue management is enabled.
- `flows` (Number) The number of flow queues that are created and managed, leave empty for defaults.
- `interval` (Number) Interval before dropping packets (in ms), leave empty for default.
- `limit` (Number) The hard size limit of all queues managed by this instance, leave empty for defaults.
- `quantum` (Number) The number of bytes a queue can serve before being moved to the tail of old queues list (bytes), leave empty for defaults.
- `target` (Number) Minimum acceptable persistent queue delay (in ms), leave empty for default.

## Import

Import is supported using the following syntax:

```shell
# Traffic shaper pipes can be imported by specifying the pipe UUID. This can be found by examining the API calls on the OPNsense web interface
terraform import opnsense_firewall_shaper_pipes.import_example 7ce41c23-968c-46f2-9b6b-3c9a1519086f
```
