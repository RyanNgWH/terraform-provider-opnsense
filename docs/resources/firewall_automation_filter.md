---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "opnsense_firewall_automation_filter Resource - opnsense"
subcategory: ""
description: |-
  Controls the stateful packet filter, which can be used to restrict or allow traffic from and/or to specific networks as well as influence how traffic should be forwarded.
---

# opnsense_firewall_automation_filter (Resource)

Controls the stateful packet filter, which can be used to restrict or allow traffic from and/or to specific networks as well as influence how traffic should be forwarded.

## Example Usage

```terraform
# Example firewall automation filter rule
resource "opnsense_firewall_automation_filter" "test_acc_resource_filter" {
  enabled  = true
  sequence = 10
  action   = "pass"
  quick    = true
  interfaces = [
    "lan",
    "wan"
  ]
  direction        = "in"
  ip_version       = "ipv4"
  protocol         = "tcp"
  source           = "any"
  source_not       = false
  source_port      = "ssh"
  destination      = "perm_test_acc_alias"
  destination_not  = false
  destination_port = "ssh"
  gateway          = "WAN_GW"
  log              = true
  categories = [
    "automation"
  ]
  description = "Example firewall automation filter rule"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `action` (String) Choose what to do with packets that match the criteria specified. The difference between block and reject is that with reject, a packet (TCP RST or ICMP port unreachable for UDP) is returned to the sender, whereas with block the packet is dropped silently. In either case, the original packet is discarded. Must be one of: `pass`, `block`, `reject`. Defaults to `pass`
- `categories` (Set of String) The categories of the rule.
- `description` (String) Description to identify this rule.
- `destination` (String) Destination IP or network. Can be a single network/host, alias or predefined network. For interface addresses, add `ip` to the end of the interface name (e.g `opt1ip`). Defaults to `any`
- `destination_not` (Boolean) Whether the destination matching should be inverted. Defaults to `false`.
- `destination_port` (String) Destination port number or well known name (`imap`, `imaps`, `http`, `https`, ...), for ranges use a dash.
- `direction` (String) Direction of packet matching. Must be one of: `in`, `out`. Defaults to `in`.
- `enabled` (Boolean) Whether the rule is enabled. Defaults to `true`.
- `gateway` (String) Choose a gateway to utilize policy based routing. Leave empty to use the system routing table.
- `interfaces` (Set of String) Interfaces this rule applies to. Use the interface identifiers (e.g `lan`, `opt1`).
- `ip_version` (String) The applicable ip version this for this rule. Must be one of: `ipv4`, `ipv6`. Defaults to `ipv4`.
- `log` (Boolean) Whether packets that are handled by this rule should be logged. Defaults to `false`.
- `protocol` (String) The applicable protocol for this rule. Must be one of: `any`, `icmp`, `igmp`, `ggp`, `ipencap`, `st2`, `tcp`, `cbt`, `egp`, `igp`, `bbn-rcc`, `nvp`, `pup`, `argus`, `emcon`, `xnet`, `chaos`, `udp`, `mux`, `dcn`, `hmp`, `prm`, `xns-idp`, `trunk-1`, `trunk-2`, `leaf-1`, `leaf-2`, `rdp`, `irtp`, `iso-tp4`, `netblt`, `mfe-nsp`, `merit-inp`, `dccp`, `3pc`, `idpr`, `xtp`, `ddp`, `idpr-cmtp`, `tp++`, `il`, `ipv6`, `sdrp`, `idrp`, `rsvp`, `gre`, `dsr`, `bna`, `esp`, `ah`, `i-nlsp`, `swipe`, `narp`, `mobile`, `tlsp`, `skip`, `ipv6-icmp`, `cftp`, `sat-expak`, `kryptolan`, `rvd`, `ippc`, `sat-mon`, `visa`, `ipcv`, `cpnx`, `cphb`, `wsn`, `pvp`, `br-sat-mon`, `sun-nd`, `wb-mon`, `wb-expak`, `iso-ip`, `vmtp`, `secure-vmtp`, `vines`, `ttp`, `nsfnet-igp`, `dgp`, `tcf`, `eigrp`, `ospf`, `sprite-rpc`, `larp`, `mtp`, `ax.25`, `ipip`, `micp`, `scc-sp`, `etherip`, `encap`, `gmtp`, `ifmp`, `pnni`, `pim`, `aris`, `scps`, `qnx`, `a/n`, `ipcomp`, `snp`, `compaq-peer`, `ipx-in-ip`, `carp`, `pgm`, `l2tp`, `ddx`, `iatp`, `stp`, `srp`, `uti`, `smp`, `sm`, `ptp`, `isis`, `crtp`, `crudp`, `sps`, `pipe`, `sctp`, `fc`, `rsvp-e2e-ignore`, `udplite`, `mpls-in-ip`, `manet`, `hip`, `shim6`, `wesp`, `rohc`, `pfsync`, `divert`. Defaults to `any`.
- `quick` (Boolean) If a packet matches a rule specifying quick, then that rule is considered the last matching rule and the specified action is taken. When a rule does not have quick enabled, the last matching rule wins. Defaults to `true`
- `sequence` (Number) Order in which multiple matching rules are evaluated and applied (lowest first). Defaults to `1`.
- `source` (String) Source IP or network. Can be a single network/host, alias or predefined network. For interface addresses, add `ip` to the end of the interface name (e.g `opt1ip`). Defaults to `any`
- `source_not` (Boolean) Whether the source matching should be inverted. Defaults to `false`.
- `source_port` (String) Source port number or well known name (`imap`, `imaps`, `http`, `https`, ...), for ranges use a dash.

### Read-Only

- `id` (String) Identifier of the automation filter rule.
- `last_updated` (String) DateTime when the automation filter rule was last updated.

## Import

Import is supported using the following syntax:

```shell
# Firewall automation filter rules can be imported by specifying the rule UUID. This can be found by examining the API calls on the OPNsense web interface
terraform import opnsense_firewall_automation_filter.import_example 7ce41c23-968c-46f2-9b6b-3c9a1519086f
```
